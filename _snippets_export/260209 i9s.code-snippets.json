{"generator":"Code Snippets v3.9.5","date_created":"2026-02-09 23:10","snippets":[{"id":12,"name":"snpPlayersByDebut","code":"<?php\n   \nfPlayersByDebut();\n\n?>","scope":"content","active":true,"modified":"2023-02-08 17:53:37","revision":"1"},{"id":13,"name":"fPlayersByDebut","code":"function fPlayersByDebut() {\n\n\t$aParms = array (\n\t\t'orderby' => 'yrdebut.meta_value ASC, last_name.meta_value ASC',\n\t\t'limit' => -1\n\t);\n\t$aPlayers = pods('player', $aParms, true);\n\t\n\tif ( $aPlayers == false ) {\n\t\techo 'podcall is false';\t\t\n\t} else {\n\t\t$curYr = 0;\n\t\t$curRowYr = 0;\n\t\twhile ($aPlayers->fetch () ) {\n\t\t\t$curRowYr = $aPlayers->field('yrdebut');\n\t\t\t$nameLink = '<a href=\"i9s.org\/wp\/?player='.$aPlayers->display('slug').'\">'.$aPlayers->display('first_name').' '.$aPlayers->display('last_name').'<\/a> ('.$aPlayers->display('yrdebut').' - '.$aPlayers->display('yrfinal').')<br\/>';\n\t\t\tif ($curRowYr != $curYr) {\n\t\t\t\techo '<br\/><h1>'.$aPlayers->display('yrdebut').'<\/h1>';\n\t\t\t\techo $nameLink;\n\t\t\t\t$curYr = $curRowYr;\n\t\t\t} else {\n\t\t\t\techo $nameLink;\n\t\t\t}\n\t\t}\n\t}\n}\n","active":true,"modified":"2024-05-02 17:46:04","revision":"8"},{"id":14,"name":"fDateDisplay_mmddyyyy","code":"Function fDateDisplay_mmddyyyy ($dt) {\n\treturn date(\"m\/d\/Y\", strtotime($dt));\t\n}","active":true,"modified":"2023-02-15 02:46:21","revision":"1"},{"id":15,"name":"i9s Batting Stats Display","desc":"<div>\n<div>Calculates and displays BA, OBP, SLG, and OPS for batting records in Pods templates<\/div>\n<\/div>","code":"\/**\n * Calculate and display batting average\n *\/\nfunction i9s_display_ba($h, $ab) {\n    return i9s_calculate_ba($h, $ab);\n}\n\n\/**\n * Calculate and display on-base percentage\n *\/\nfunction i9s_display_obp($h, $bb, $ab) {\n    return i9s_calculate_obp($h, $bb, $ab);\n}\n\n\/**\n * Calculate and display slugging percentage\n *\/\nfunction i9s_display_slg($h, $b2, $b3, $hr, $ab) {\n    return i9s_calculate_slg($h, $b2, $b3, $hr, $ab);\n}\n\n\/**\n * Calculate and display OPS\n * This version recalculates OBP and SLG internally\n *\/\nfunction i9s_display_ops($h, $bb, $ab, $b2, $b3, $hr) {\n    $obp = i9s_calculate_obp($h, $bb, $ab);\n    $slg = i9s_calculate_slg($h, $b2, $b3, $hr, $ab);\n    return i9s_calculate_ops($obp, $slg);\n}","active":true,"modified":"2026-02-08 04:55:23","revision":"1"},{"id":16,"name":"i9s Batting Table Display","desc":"<p>Generates complete batting statistics table with calculated stats<\/p>","code":"function i9s_display_batting_table($atts) {\n    global $wpdb;\n    $pid = $atts['pid'] ?? '';\n    if (empty($pid)) return '';\n    \n    $records = $wpdb->get_results($wpdb->prepare(\n        \"SELECT * FROM {$wpdb->prefix}pods_playeryear_b WHERE pid = %s ORDER BY yr ASC\", $pid\n    ));\n    if (empty($records)) return '';\n    \n    $totals = I9S_Tools_Career_Calculations::get_batting_totals($pid);\n    \n    $output = '<table class=\"i9s-stats-table\"><thead><tr class=\"i9s-header-row\">';\n    $output .= '<td>Year<\/td><td>AB<\/td><td>H<\/td><td>2B<\/td><td>3B<\/td><td>HR<\/td><td>BB<\/td><td>SO<\/td><td>SB<\/td><td>CS<\/td><td>BA<\/td><td>OBP<\/td><td>SLG<\/td><td>OPS<\/td>';\n    $output .= '<\/tr><\/thead><tbody>';\n    \n    foreach ($records as $rec) {\n        $ba = i9s_calculate_ba($rec->h, $rec->ab);\n        $obp = i9s_calculate_obp($rec->h, $rec->bb, $rec->ab, $rec->hbp ?? 0, $rec->sf ?? 0);\n        $slg = i9s_calculate_slg($rec->h, $rec->{'2b'}, $rec->{'3b'}, $rec->hr, $rec->ab);\n        $ops = i9s_calculate_ops($obp, $slg);\n        \n        $output .= '<tr>';\n        $output .= '<td>' . esc_html($rec->yr) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->ab) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->h) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->{'2b'}) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->{'3b'}) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->hr) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->bb) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->so) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->sb) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->cs) . '<\/td>';\n        $output .= '<td>' . esc_html($ba) . '<\/td>';\n        $output .= '<td>' . esc_html($obp) . '<\/td>';\n        $output .= '<td>' . esc_html($slg) . '<\/td>';\n        $output .= '<td>' . esc_html($ops) . '<\/td>';\n        $output .= '<\/tr>';\n    }\n    \n    \/\/ TOTALS row - NOTE: uses 'doubles' and 'triples' from query aliases\n    if ($totals && $totals->ab > 0) {\n        $tot_ba = i9s_calculate_ba($totals->h, $totals->ab);\n        $tot_obp = i9s_calculate_obp($totals->h, $totals->bb, $totals->ab, $totals->hbp ?? 0, $totals->sf ?? 0);\n        $tot_slg = i9s_calculate_slg($totals->h, $totals->doubles, $totals->triples, $totals->hr, $totals->ab);\n        $tot_ops = i9s_calculate_ops($tot_obp, $tot_slg);\n        \n        $output .= '<tr class=\"i9s-totals-row\">';\n        $output .= '<td>TOTALS<\/td>';\n        $output .= '<td>' . number_format($totals->ab, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->h, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->doubles, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->triples, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->hr, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->bb, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->so, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->sb, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->cs, 0) . '<\/td>';\n        $output .= '<td>' . esc_html($tot_ba) . '<\/td>';\n        $output .= '<td>' . esc_html($tot_obp) . '<\/td>';\n        $output .= '<td>' . esc_html($tot_slg) . '<\/td>';\n        $output .= '<td>' . esc_html($tot_ops) . '<\/td>';\n        $output .= '<\/tr>';\n    }\n    \n    $output .= '<\/tbody><\/table>';\n    return $output;\n}\n\nadd_shortcode('i9s_batting_table', 'i9s_display_batting_table');","active":true,"modified":"2026-02-09 22:59:41","revision":"1"},{"id":17,"name":"i9s Pitching Table Display","desc":"<div>\n<div>Generates complete pitching statistics table with calculated stats (ERA, WHIP, H\/9, BB\/9, K\/9)<\/div>\n<\/div>","code":"function i9s_display_pitching_table($atts) {\n    global $wpdb;\n    $pid = $atts['pid'] ?? '';\n    if (empty($pid)) return '';\n    \n    $records = $wpdb->get_results($wpdb->prepare(\n        \"SELECT * FROM {$wpdb->prefix}pods_playeryear_p WHERE pid = %s ORDER BY yr ASC\", $pid\n    ));\n    if (empty($records)) return '';\n    \n    $totals = I9S_Tools_Career_Calculations::get_pitching_totals($pid);\n    \n    $output = '<table class=\"i9s-stats-table\"><thead><tr class=\"i9s-header-row\">';\n    $output .= '<td>Year<\/td><td>G<\/td><td>GS<\/td><td>IP<\/td><td>HA<\/td><td>W<\/td><td>K<\/td><td>ER<\/td><td>HRA<\/td><td>eD<\/td><td>eT<\/td><td>eHBP<\/td><td>H\/9<\/td><td>BB\/9<\/td><td>K\/9<\/td><td>ERA<\/td><td>WHIP<\/td>';\n    $output .= '<\/tr><\/thead><tbody>';\n    \n    foreach ($records as $rec) {\n        $era = i9s_calculate_era($rec->er ?? 0, $rec->ip);\n        $whip = i9s_calculate_whip($rec->ha, $rec->w, $rec->ip);\n        $h9 = i9s_calculate_h9($rec->ha, $rec->ip);\n        $bb9 = i9s_calculate_bb9($rec->w, $rec->ip);\n        $k9 = i9s_calculate_k9($rec->k, $rec->ip);\n        \n        $output .= '<tr>';\n        $output .= '<td>' . esc_html($rec->yr) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->g) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->gs) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->ip) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->ha) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->w) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->k) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->er) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->hra) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->ed ?? 0) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->et ?? 0) . '<\/td>';\n        $output .= '<td>' . esc_html($rec->ehbp ?? 0) . '<\/td>';\n        $output .= '<td>' . esc_html($h9) . '<\/td>';\n        $output .= '<td>' . esc_html($bb9) . '<\/td>';\n        $output .= '<td>' . esc_html($k9) . '<\/td>';\n        $output .= '<td>' . esc_html($era) . '<\/td>';\n        $output .= '<td>' . esc_html($whip) . '<\/td>';\n        $output .= '<\/tr>';\n    }\n    \n    if ($totals && $totals->ip > 0) {\n        $tot_era = i9s_calculate_era($totals->er ?? 0, $totals->ip);\n        $tot_whip = i9s_calculate_whip($totals->ha, $totals->w, $totals->ip);\n        $tot_h9 = i9s_calculate_h9($totals->ha, $totals->ip);\n        $tot_bb9 = i9s_calculate_bb9($totals->w, $totals->ip);\n        $tot_k9 = i9s_calculate_k9($totals->k, $totals->ip);\n        \n        $output .= '<tr class=\"i9s-totals-row\">';\n        $output .= '<td>TOTALS<\/td>';\n        $output .= '<td>' . number_format($totals->g, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->gs, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->ip, 1) . '<\/td>';\n        $output .= '<td>' . number_format($totals->ha, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->w, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->k, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->er, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->hra, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->ed ?? 0, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->et ?? 0, 0) . '<\/td>';\n        $output .= '<td>' . number_format($totals->ehbp ?? 0, 0) . '<\/td>';\n        $output .= '<td>' . esc_html($tot_h9) . '<\/td>';\n        $output .= '<td>' . esc_html($tot_bb9) . '<\/td>';\n        $output .= '<td>' . esc_html($tot_k9) . '<\/td>';\n        $output .= '<td>' . esc_html($tot_era) . '<\/td>';\n        $output .= '<td>' . esc_html($tot_whip) . '<\/td>';\n        $output .= '<\/tr>';\n    }\n    \n    $output .= '<\/tbody><\/table>';\n    return $output;\n}\n\nadd_shortcode('i9s_pitching_table', 'i9s_display_pitching_table');","active":true,"modified":"2026-02-09 23:01:49","revision":"1"},{"id":18,"name":"i9s Career Summary Display","desc":"<p>Shows Career Summary for batters and pitchers.<\/p>","code":"function i9s_display_career_summary($atts) {\n    $pid = $atts['pid'] ?? '';\n    if (empty($pid)) return '';\n    \n    \/\/ Get summaries from plugin (clean - no SQL in snippet)\n    $batting = I9S_Tools_Career_Calculations::calculate_career_batting_summary($pid);\n    $pitching = I9S_Tools_Career_Calculations::calculate_career_pitching_summary($pid);\n    \n    \/\/ If neither exists, return empty\n    if (empty($batting) && empty($pitching)) return '';\n    \n    \/\/ Build table\n    $output = '<table class=\"i9s-career-summary\">';\n    \n    if (!empty($batting)) {\n        if (preg_match('\/^Career Batting: (.+) \\((\\d{4})-(\\d{4})\\)\\.$\/', $batting, $matches)) {\n            $stats = $matches[1];\n            $years = $matches[2] . '-' . $matches[3];\n            \n            $output .= '<tr>';\n            $output .= '<td class=\"career-label\">Career Batting:<\/td>';\n            $output .= '<td class=\"career-stats\">' . esc_html($stats) . '.<\/td>';\n            $output .= '<td class=\"career-years\">(' . esc_html($years) . ')<\/td>';\n            $output .= '<\/tr>';\n        }\n    }\n    \n    if (!empty($pitching)) {\n        if (preg_match('\/^Career Pitching: (.+) \\((\\d{4})-(\\d{4})\\)\\.$\/', $pitching, $matches)) {\n            $stats = $matches[1];\n            $years = $matches[2] . '-' . $matches[3];\n            \n            $output .= '<tr>';\n            $output .= '<td class=\"career-label\">Career Pitching:<\/td>';\n            $output .= '<td class=\"career-stats\">' . esc_html($stats) . '.<\/td>';\n            $output .= '<td class=\"career-years\">(' . esc_html($years) . ')<\/td>';\n            $output .= '<\/tr>';\n        }\n    }\n    \n    $output .= '<\/table>';\n    return $output;\n}\nadd_shortcode('i9s_career_summary', 'i9s_display_career_summary');","active":true,"modified":"2026-02-09 06:57:38","revision":"1"}]}